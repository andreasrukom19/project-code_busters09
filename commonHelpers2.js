import{s,c as o,f,a as B,h as M,u as b,i as h,p as _,d as A}from"./assets/footer-send-ce67ce3f.js";import{P as I}from"./assets/vendor-cfb45d56.js";window.addEventListener("resize",x);function x(){const t=s.getOptions(),e=window.innerWidth;e>=768&&e<1440&&t.limit!==8?(t.limit=8,s.setOptions(t),o()):e>=1440&&t.limit!==9?(t.limit=9,s.setOptions(t),o()):e<768&&t.limit!==6&&(t.limit=6,s.setOptions(t),o())}const S=document.getElementById("tui-pagination-container"),w=new URL("/project-code_busters09/assets/icons-91d3aeb0.svg",self.location).href;S.addEventListener("click",k);const{page:T,perPage:C,results:Y,totalPages:u}=s.getFromStorage("pagination")??{},l=new I(S,{totalItems:u*C,itemsPerPage:C,visiblePages:u>4?4:`${u}`,page:T,centerAlign:!0,template:{page:'<span class="tui-page-btn">{{page}}</span>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:`<span class="tui-page-btn tui-{{type}}"><svg class="tui-ico-{{type}}" width="8" height="8"><use href="${w}#icon-caret-small-{{type}}"></use></svg></span>`,disabledMoveButton:`<span class="tui-page-btn tui-is-disabled tui-{{type}}"><svg class="tui-ico-{{type}}" width="8" height="8"><use href="${w}#icon-caret-small-{{type}}"></use></svg></span>`,moreButton:'<span class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></span>'}});l.on("afterMove",function(t){k()});function k(){const t=l.getCurrentPage();s.setApiOptions("page",`${t}`),o()}const v=document.querySelector(".submit-form"),c=document.querySelector(".categories"),y=document.querySelector(".filter-box__list");document.addEventListener("DOMContentLoaded",function(){v.elements.search.value=""});v.addEventListener("submit",t=>{t.preventDefault();const e=t.target.elements.search.value,n=s.getFromStorage("options");n.page=1,n.keyword=e||null,localStorage.setItem("options",JSON.stringify(n)),o(),l.reset()});c.addEventListener("change",function(){const t=c.value,e=s.getFromStorage("options");e.page=1,e.category=t||null,localStorage.setItem("options",JSON.stringify(e)),c.value==="show-all"?(y.innerHTML="",s.defaultApiOptions(),v.elements.search.value="",o(),l.reset()):(f.category=t,y.innerHTML="",o(),l.reset())});f.getCategories().then(t=>{const e=document.createElement("option");e.value="",e.textContent="Categories",e.disabled=!0,e.selected=!0;const n=t.map(r=>{const d=r.replace(/_/g," "),p=document.createElement("option");return p.value=r,p.textContent=d,p}),a=q();n.push(a),c.appendChild(e),c.append(...n)});function q(){const t=document.createElement("option");return t.textContent="Show All",t.value="show-all",t}const E=document.querySelector(".modal"),D=document.querySelector(".modal-content"),F=document.querySelector(".main-products");let i;F.addEventListener("click",z);async function z(t){if(t.target.classList.contains("main-cart-icon")||t.target.classList.contains("cart-img-products")||t.target.classList.contains("popular-cart-img")||t.target.classList.contains("js-checked-arrow")||t.target.classList.contains("popular-cart-img-down")||t.target.classList.contains("discount-icon-popular"))return;const e=t.target.closest("li");if(!e)return;B(),i=await f.findProductById(e.dataset.id);const n=s.getCart();D.innerHTML=R(i);const a=document.querySelector(".add-to-cart-btn");a.removeEventListener("click",L),a.addEventListener("click",L),n.some(d=>d._id===i._id)&&(a.firstChild.textContent="Remove from"),M(),j()}function L(){s.getCart().some(n=>n._id===i._id)?N():H()}function O(){const t=document.querySelector(".add-to-cart-btn");t.firstChild.textContent==="Add to"?t.firstChild.textContent="Remove from":t.firstChild.textContent="Add to"}function H(){s.addProductToCart(i),b(),O()}function N(){s.removeFromCart(i._id),b(),O()}function R(t){let e=t.category.replace(/_/g," ");return`
  <button class="modal-btn-close">
  <svg class="close-sharp" width="16" height="16">
    <use href="${h}#icon-ion_close-sharp"></use>
  </svg>
</button>
<div class="modal-img-container">
  <img src="${t.img}" alt="${t.name}" class="modal-image" />
</div>
<div class="modal-info">
  <h2 class="modal-title">${t.name}</h2>
  <div class="modal-info-wrapper">
    <p class="modal-product">Category: <span>${e}</span></p>
    <p class="modal-product">Size: <span>${t.size}</span></p>
    <p class="modal-product">Popularity: <span>${t.popularity}</span></p>
  </div>
  <p class="modal-info-desc">${t.desc}</p>
</div>
<p class="modal-price">$${t.price}</p>
<button class="add-to-cart-btn">Add to<svg class="modal-cart" width="18" height="18">
    <use href="${h}#icon-heroicons-solid_shopping-cart"></use>
  </svg>
</button>
`}function $(t){t.key==="Escape"&&m()}function P(t){(t.target.classList.contains("modal")||t.target.closest(".modal-btn-close"))&&m()}function j(){E.style.display="block",document.body.classList.add("no-scroll"),document.addEventListener("keydown",$),window.addEventListener("click",P)}function m(){E.style.display="none",document.removeEventListener("keydown",$),window.removeEventListener("click",P),document.body.classList.remove("no-scroll"),o(),_(),A()}const g=document.querySelector(".isShownBtn");window.onscroll=()=>{window.scrollY>700?g.classList.remove("isHidden"):window.scrollY<700&&g.classList.add("isHidden")};g.onclick=()=>{window.scrollTo(0,0)};
//# sourceMappingURL=commonHelpers2.js.map
