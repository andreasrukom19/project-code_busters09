{"version":3,"file":"commonHelpers2.js","sources":["../src/js/screenSizeChecker.js","../src/js/filters.js","../src/js/pagination.js","../src/js/footer-send.js","../src/img/icons.svg","../src/js/header.js","../src/js/modal.js"],"sourcesContent":["// import './mainSection.js';\nimport {\n  mainContentDrawer,\n  contentByOptionsDrawer,\n  foodService,\n} from './mainSection.js';\n\nimport { storage } from './mainSection.js';\n\nwindow.addEventListener('resize', onScreenSizeFetch);\n\nfunction onScreenSizeFetch() {\n  const screenSize = window.innerWidth;\n  if (screenSize >= 768 && screenSize < 1440 && foodService.perPage !== 8) {\n    foodService.perPage = 8;\n    contentByOptionsDrawer();\n  } else if (screenSize >= 1440 && foodService.perPage !== 9) {\n    foodService.perPage = 9;\n    contentByOptionsDrawer();\n  } else if (screenSize < 768 && foodService.perPage !== 6) {\n    foodService.perPage = 6;\n    contentByOptionsDrawer();\n  }\n}\n","import {\n  foodService,\n  mainContentDrawer,\n  contentByOptionsDrawer,\n  storage,\n} from './mainSection.js';\n\nconst submitForm = document.querySelector('.submit-form');\nconst select = document.querySelector('.categories');\nconst filterBoxList = document.querySelector('.filter-box__list');\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  // Скинути значення інпуту\n  submitForm.elements.search.value = '';\n  // Скинути значення select\n  select.value = '';\n});\n\nsubmitForm.addEventListener('submit', event => {\n  //select.value = '';\n  event.preventDefault();\n  //const selectedItem = select.value; //===============================================================\n  const searchValue = event.target.elements.search.value;\n  foodService.searchQuerry = searchValue;\n  const savedOptions = storage.getApiOptions();\n  savedOptions.keyword = searchValue ? searchValue : null;\n\n  localStorage.setItem('options', JSON.stringify(savedOptions));\n  // storage.updateFoodService(savedOptions);\n\n  if (searchValue) {\n    contentByOptionsDrawer();\n  } else {\n    foodService.resetSearchQuerry();\n    mainContentDrawer();\n  }\n});\n\nselect.addEventListener('change', function () {\n  //submitForm.elements.search.value = '';\n  const selectedItem = select.value;\n  //const searchValue = event.target.elements.search.value; //================================================================================\n  const savedOptions = storage.getApiOptions();\n\n  savedOptions.category = selectedItem ? selectedItem : null;\n  localStorage.setItem('options', JSON.stringify(savedOptions));\n  if (select.value === 'show-all') {\n    filterBoxList.innerHTML = '';\n    mainContentDrawer();\n  } else {\n    foodService.category = selectedItem;\n    filterBoxList.innerHTML = '';\n    contentByOptionsDrawer();\n  }\n});\n\nfoodService.getCategories().then(categories => {\n  //console.log(categories); //=======================================================================================\n  // dafault option\n  const defaultOption = document.createElement('option');\n  defaultOption.value = '';\n  defaultOption.textContent = 'Categories';\n  defaultOption.disabled = true;\n  defaultOption.selected = true; // Обрана за замовчуванням\n\n  const options = categories.map(category => {\n    const option = document.createElement('option');\n    option.value = category;\n    option.textContent = category;\n    return option;\n  });\n  const showAllOption = createShowAllOption();\n  options.push(showAllOption);\n  select.appendChild(defaultOption);\n  select.append(...options);\n});\n\nfunction createShowAllOption() {\n  const showAllOption = document.createElement('option');\n  showAllOption.textContent = 'Show All';\n  showAllOption.value = 'show-all';\n  //resetCategory();\n  return showAllOption;\n}\n","const refs = {\n    pagesRibbonEL: document.querySelector('.pag-ribbon'),\n};\n\nfunction onPaginationRibbonItems(pageIndex, pages) {\n    const pageIndexObj = {\n        leftBtn: 'visually-hidden',\n        indexOne: 1,\n        indexTwo: '',\n        indexThree: '',\n        indexFour: '',\n        indexFive: pages,\n        rightBtn: 'visually-hidden',\n    };\n\n    if (pages === 5) {\n        pageIndexObj.indexTwo = 2;\n        pageIndexObj.indexThree = 3;\n        pageIndexObj.indexFour = 4;\n    }\n    //передаєм \"...\" на третю позицію, якщо більше 5-ти сторінок і активна сторінка або 1,2, або передостання, остання\n    if (pages > 5 && (pageIndex <= 2 || pageIndex >= pages - 1)) {\n        pageIndexObj.indexTwo = 2;\n        pageIndexObj.indexThree = '...';\n        pageIndexObj.indexFour = pages - 1;\n    }\n    //передаєм \"...\" на другу або четверту позицію, якщо більше 5-ти сторінок і активна сторінка більша за 3 або меньша за перед-передостанню\n    if (pages > 5 && pageIndex > 3 && pageIndex < pages - 2) {\n        pageIndexObj.indexTwo = '...';\n        pageIndexObj.indexThree = pageIndex;\n        pageIndexObj.indexFour = '...';\n    }\n    //передаєм \"...\" на другу позицію, якщо більше 5-ти сторінок і активна сторінка - перед-передостання\n    if (pages > 5 && pageIndex === pages - 2) {\n        pageIndexObj.indexTwo = '...';\n        pageIndexObj.indexThree = pages - 2;\n        pageIndexObj.indexFour = pages - 1;\n    }\n    //передаєм \"...\" на четверту позицію, якщо більше 5-ти сторінок і активна сторінка - третя\n    if (pages > 5 && pageIndex === 3) {\n        pageIndexObj.indexTwo = 2;\n        pageIndexObj.indexThree = 3;\n        pageIndexObj.indexFour = '...';\n    }\n    const pageIndexArr = [];\n    pageIndexArr.push(\n        pageIndexObj.indexOne,\n        pageIndexObj.indexTwo,\n        pageIndexObj.indexThree,\n        pageIndexObj.indexFour,\n        pageIndexObj.indexFive,\n        pageIndexObj.leftBtn,\n        pageIndexObj.rightBtn\n    );\n    return pageIndexArr;\n}\n\nfunction onPaginationMarkup(pageIndex, pages) {\n    const ribbonArr = onPaginationRibbonItems(pageIndex, pages);\n    const leftBtn = `<button id=\"left-button\" type=\"button\" class=\"pag-btn pag-item\">\n    <svg class=\"arrow-icon\" width=\"24\" height=\"24\">\n      <use href=\"./img/icons.svg#icon-caret-small-left\"></use>\n    </svg>\n  </button>\n  <ul class=\"pag-wrapper\">`;\n    const rightBtn = `</ul>\n  <button id=\"right-button\" type=\"button\" class=\"pag-btn pag-item\">\n    <svg class=\"arrow-icon\" width=\"24\" height=\"24\">\n      <use href=\"./img/icons.svg#icon-caret-small-right\"></use>\n    </svg>\n  </button>`;\n    let pageItems;\n    if (pages <= 5) {\n        pageItems = pages;\n    } else {\n        pageItems = 5;\n    }\n    let markupArr = [];\n    for (let i = 0; i < pageItems; i++) {\n        markupArr.push(\n            `<li class=\"list\"><button id=\"${ribbonArr[i]}\" type=\"button\" class=\"pag-item\">${ribbonArr[i]}</button></li>`\n        );\n    }\n    markupArr.unshift(leftBtn);\n    markupArr.push(rightBtn);\n    return markupArr.join('');\n}\n\nexport function onPaginationRender(pageIndex, pages) {\n    const markup = onPaginationMarkup(pageIndex, pages);\n    refs.pagesRibbonEL.insertAdjacentHTML('afterbegin', markup);\n\n    if (pageIndex === 1) {\n        document.getElementById('left-button').classList.add('disabled');\n    }\n    if (pageIndex === pages) {\n        document.getElementById('right-button').classList.add('disabled');\n    }\n    const dotItemsEl = document.querySelectorAll('.pag-item');\n    dotItemsEl.forEach(item => {\n        if (item.textContent === '...') {\n            item.classList.add('pag-inactive');\n        }\n        if (Number(item.textContent) === pageIndex) {\n            item.classList.add('pag-active');\n        }\n    });\n}\n\nrefs.pagesRibbonEL.addEventListener('click', onLoadContent);\n\nfunction onLoadContent(e) {\n    const buttonId = e.target.closest('button').id;\n    console.log(buttonId);\n}\n","import { foodService } from './mainSection.js';\nconst subscriptionForm = document.getElementById('subscriptionForm');\nsubscriptionForm.addEventListener('submit', sendFormData);\n\nfunction sendFormData(event) {\n  event.preventDefault();\n\n  const emailInput = document.getElementById('emailInput');\n\n  if (emailInput.checkValidity()) {\n    const email = emailInput.value;\n    console.log(email);\n\n    foodService.subscribe(email);\n    //     .then(response => {\n    //       console.log('Subscription successful:', response);\n    //     })\n    //     .catch(error => {\n    //       console.error('Error subscribing:', error);\n    //     });\n    // } else {\n    //   console.log('Invalid email format');\n    // }\n  }\n}\n","export default \"__VITE_ASSET__883ded96__\"","import { LocalStorage } from \"./local-storages\";\r\n\r\nconst storage = new LocalStorage();\r\nconst cartCountEl = document.querySelector('.cart-title');\r\n\r\nfunction totalQuantity() {\r\n    const items = storage.getFromStorage('cart') ?? [];\r\n    return items.length;\r\n}\r\n\r\nexport function updateCartCountTitle() {\r\n    let cartCount = totalQuantity();\r\n    cartCountEl.innerHTML = `cart (${cartCount})`;\r\n}\r\n\r\nupdateCartCountTitle();","import { foodService } from './mainSection';\nimport { storage } from './mainSection';\nimport iconUrl from '../img/icons.svg';\nimport { updateCartCountTitle } from \"./header\";\n\nconst modal = document.querySelector('.modal');\nconst modalContent = document.querySelector('.modal-content');\nconst listItems = document.querySelector('.main-products');\n\nlet cardData;\n\nlistItems.addEventListener('click', onCardClick);\n\nasync function onCardClick(e) {\n  if (\n    e.target.classList.contains('main-cart-icon') ||\n    e.target.classList.contains('cart-img-products') ||\n    e.target.classList.contains('popular-cart-img')\n  ) {\n    return;\n  }\n\n  const card = e.target.closest('li');\n  if (!card) return;\n\n  cardData = await foodService.findProductById(card.dataset.id);\n  modalContent.innerHTML = makeModalMarkup(cardData);\n\n  openModal();\n\n  const addToCartBtn = document.querySelector('.add-to-cart-btn');\n  addToCartBtn.addEventListener('click', onAddToCartBtnClick);\n}\n\nfunction onAddToCartBtnClick() {\n  this.firstChild.textContent = 'Added to';\n  console.log(cardData);\n  storage.addProductToCart(cardData);\n  updateCartCountTitle();\n}\n\nfunction makeModalMarkup(product) {\n  return `\n  <button class=\"modal-btn-close\">\n  <svg class=\"close-sharp\" width=\"16\" height=\"16\">\n    <use href=\"${iconUrl}#icon-ion_close-sharp\"></use>\n  </svg>\n</button>\n<div class=\"modal-img-container\">\n  <img src=\"${product.img}\" alt=\"${product.name}\" class=\"modal-image\" />\n</div>\n<div class=\"modal-info\">\n  <h2 class=\"modal-title\">${product.name}</h2>\n  <div class=\"modal-info-wrapper\">\n    <p class=\"modal-product\">Category: <span>${product.category}</span></p>\n    <p class=\"modal-product\">Size: <span>${product.size}</span></p>\n    <p class=\"modal-product\">Popularity: <span>${product.popularity}</span></p>\n  </div>\n  <p class=\"modal-info-desc\">${product.desc}</p>\n</div>\n<p class=\"modal-price\">$${product.price}</p>\n<button class=\"add-to-cart-btn\">\n  Add to\n  <svg class=\"modal-cart\" width=\"18\" height=\"18\">\n    <use href=\"${iconUrl}#icon-heroicons-solid_shopping-cart\"></use>\n  </svg>\n</button>\n`;\n}\n\nfunction onEscCloseModal(e) {\n  if (e.key === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction onClickCloseModal(e) {\n  if (e.target.classList.contains('modal')) {\n    // закриття по кліку по бекдропу\n    closeModal();\n  } else if (e.target.closest('.modal-btn-close')) {\n    // закриття по кліку по кнопці з класом '.modal-btn-close'\n    closeModal();\n  }\n}\n\nfunction openModal() {\n  modal.style.display = 'block';\n  document.body.classList.add('no-scroll');\n  document.addEventListener('keydown', onEscCloseModal);\n  window.addEventListener('click', onClickCloseModal);\n}\n\nfunction closeModal() {\n  modal.style.display = 'none';\n  document.removeEventListener('keydown', onEscCloseModal);\n  window.removeEventListener('click', onClickCloseModal);\n  document.body.classList.remove('no-scroll');\n}\n"],"names":["onScreenSizeFetch","screenSize","foodService","contentByOptionsDrawer","submitForm","select","filterBoxList","event","searchValue","savedOptions","storage","mainContentDrawer","selectedItem","categories","defaultOption","options","category","option","showAllOption","createShowAllOption","refs","onLoadContent","e","buttonId","subscriptionForm","sendFormData","emailInput","email","iconUrl","LocalStorage","cartCountEl","totalQuantity","updateCartCountTitle","cartCount","modal","modalContent","listItems","cardData","onCardClick","card","makeModalMarkup","openModal","onAddToCartBtnClick","product","onEscCloseModal","closeModal","onClickCloseModal"],"mappings":"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"}