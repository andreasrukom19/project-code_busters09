{"version":3,"file":"commonHelpers.js","sources":["../src/img/yellow_basket_desctop_1x-min.png","../src/img/yellow_basket_tablet_1x-min.png","../src/img/yellow_basket_mobile_1x-min.png","../src/img/yellow_basket_desctop_2x-min.png","../src/img/yellow_basket_tablet_2x-min.png","../src/img/yellow_basket_mobile_2x-min.png","../src/cart.js"],"sourcesContent":["export default \"__VITE_ASSET__22db5a51__\"","export default \"__VITE_ASSET__359a1065__\"","export default \"__VITE_ASSET__1afbb42c__\"","export default \"__VITE_ASSET__22b3ed6a__\"","export default \"__VITE_ASSET__77914d93__\"","export default \"__VITE_ASSET__b4656eb0__\"","\nimport { storage } from './js/mainSection';\n\nimport imgURLdesc from './img/yellow_basket_desctop_1x-min.png';\nimport imgURLtablet from './img/yellow_basket_tablet_1x-min.png';\nimport imgURLmob from './img/yellow_basket_mobile_1x-min.png';\nimport imgURLdesc2x from './img/yellow_basket_desctop_2x-min.png';\nimport imgURLtab2x from './img/yellow_basket_tablet_2x-min.png';\nimport imgURLmob2x from './img/yellow_basket_mobile_2x-min.png';\nimport iconsURL from './img/icons.svg';\n\nconst deleteAllBtn = document.querySelector(\".cart_close_all\");\nconst cartContent = document.getElementById(\"cart-content\");\nconst cartProductsContainer = document.querySelector('.cart_products_container');\nconst cartHeader = document.querySelector('.cart-quentity');\n\nlet products = storage.getFromStorage('cart');\nconsole.log(products);\n\n\nfunction totalQuantity() {\n  if (products) {\n    const totalCount = products.length;\n    cartHeader.textContent = `Cart (${totalCount})`;\n  }\n}\ntotalQuantity()\n\n// Функція для розрахунку загальної вартості продуктів\n\nfunction calculateTotalPrice() {\n  let cartSumNumber = document.querySelector('.cart-sum-number');\n  let total = 0;\n  if (products) {\n    products.forEach(product => {\n      total += product.price;\n      return cartSumNumber.textContent = `$${total.toFixed(2)}`;\n    });\n  }\n}\n// calculateTotalPrice()\n\nfunction checkLocalStorage() {\n  if (products) {\n    cartContent.innerHTML = createCartMarkup();\n  } else {\n    cartContent.innerHTML = createCartMarkupDefault();\n  }\n}\n\ncheckLocalStorage();\nconst cartProductsList = cartContent.querySelector('.cart_products_list');\n\ncreateCartMarkupProducts(products);\ncalculateTotalPrice();\n\n\n\nfunction createCartMarkup() {\n  return `<div class=\"products_container\">\n  <div class=\"cart-add-products\">      \n    <div class=\"delete-all\">        \n      <button type=\"submit\" class=\"cart-delete-all-button\">Delete all            \n        <svg class=\"cart_close_all\" width=\"24\" height=\"24\">\n          <use xlink:href=\"${iconsURL}#icon-ion_close-sharp\"></use>\n        </svg>            \n      </button>          \n    </div>        \n    <div class=\"cart_products_container\">       \n      <ul class=\"cart_products_list\">                        \n        <!-- Add your products here -->            \n      </ul>          \n    </div>      \n  </div>      \n  <div class=\"products_order_container\">      \n    <p class=\"your_order\">Your Order</p>        \n    <div class=\"total-count\">          \n      <div class=\"total-count-div\">            \n        <p class=\"cart-total\">Total</p>            \n        <div class=\"cart-total-sum\">              \n          <p class=\"cart-sum\">Sum:</p>              \n          <p class=\"cart-sum-number\">$0</p>              \n        </div>     \n      </div>   \n    </div>\n  \n    <form class=\"order-form\">\n      <div class=\"cart-input\">\n        <label class=\"label-cart\">\n          <span class=\"label-mark\">Mail:</span>\n          <input\n            type=\"email\"\n            class=\"cart-email\"\n            id=\"email\"\n            placeholder=\"enter your email\"\n            pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$\">\n        </label>\n      </div>\n      <div class=\"cart-btn\">\n        <button type=\"submit\" class=\"cart-checkout-button\">Checkout</button>\n      </div>\n    </form>\n    \n  </div>`\n}\n\n\nfunction createCartMarkupProducts() {\n  if (products) {\n    const markup = products.map(({ _id, name, img, category, size, price }) => {\n    return `      \n    <li id=\"${_id}\" class=\"cart-list\">\n      <div class=\"obj-delete\">\n        <button class=\"cart-delete-button\">\n          <svg class=\"cart_close_all\" width=\"18\" height=\"18\">\n            <use xlink:href=\"${iconsURL}#icon-ion_close-sharp\"></use>\n          </svg>\n        </button>\n      </div>\n      <div class=\"cart-obj\">\n        <div class=\"add-img\">\n          <img src=\"${img}\" alt=\"Product Image\" class=\"product-image\" wi>\n        </div>\n        <div class=\"add-img-info\">\n          <p class=\"product-name\">${name}</p>\n          <div class=\"product-category-size\">\n            <p class=\"product-category\">Category: <span class=\"colored-text\">${category}</span></p>\n            <p class=\"product-size\">Size: <span class=\"colored-text\">${size}</span></p>\n          </div>\n          <p class=\"product-price\">$ ${price}</p>\n        </div>\n      </div>\n    </li>`\n  }).join('');\n  cartProductsList.innerHTML = markup;\n  const deleteBtns = document.querySelectorAll('.cart-delete-button');\n  deleteBtns.forEach(btn => btn.addEventListener('click', onDeleteProduct));\n  }\n}\n\nfunction onDeleteProduct(event) {\n  const productId = event.target.closest('li').id;\n  storage.removeFromCart(productId);\n  products = storage.getFromStorage('cart');\n  if (products.length === 0) {\n    storage.clearCart();\n  }\n  checkLocalStorage();\n  createCartMarkupProducts();\n}\n\nfunction createCartMarkupDefault() {\n  return `  \n  <div class=\"cart-img\">\n    <picture>\n      <source media=\"(min-width: 1440px)\" srcset=\"\n          ${imgURLdesc} 1x,\n          ${imgURLdesc2x} 2x\n        \" type=\"image/png\" />\n      <source media=\"(min-width: 768px)\" srcset=\"\n          ${imgURLtablet} 1x,\n          ${imgURLtab2x} 2x\n        \" type=\"image/png\" />\n      <source media=\"(min-width: 320px)\" srcset=\"\n          ${imgURLmob} 1x,\n          ${imgURLmob2x} 2x\n        \" type=\"image/png\" />\n      <img class=\"cart-img\" src=\"${imgURLdesc}\" alt=\"basket\" />\n    </picture>\n  </div>\n  <div class=\"cart-empty\">\n    <p class=\"cart-message\">\n      Your basket is <span class=\"hero-title-span\">empty...</span>\n    </p>\n    <p class=\"cart-message-ihfo\">\n      Go to the main page to select your favorite products and add them to\n      the cart.\n    </p>\n  </div>\n</div>`\n};\n\n"],"names":["imgURLdesc","imgURLtablet","imgURLmob","imgURLdesc2x","imgURLtab2x","imgURLmob2x","cartContent","cartHeader","products","storage","totalQuantity","totalCount","calculateTotalPrice","cartSumNumber","total","product","checkLocalStorage","createCartMarkup","createCartMarkupDefault","cartProductsList","createCartMarkupProducts","iconsURL","markup","_id","name","img","category","size","price","btn","onDeleteProduct","event","productId"],"mappings":"0FAAA,MAAeA,EAAA,2ECAAC,EAAA,2ECAAC,EAAA,0ECAAC,EAAA,2ECAAC,EAAA,2ECAAC,EAAA,0ECWM,SAAS,cAAc,iBAAiB,EAC7D,MAAMC,EAAc,SAAS,eAAe,cAAc,EAC5B,SAAS,cAAc,0BAA0B,EAC/E,MAAMC,EAAa,SAAS,cAAc,gBAAgB,EAE1D,IAAIC,EAAWC,EAAQ,eAAe,MAAM,EAC5C,QAAQ,IAAID,CAAQ,EAGpB,SAASE,GAAgB,CACvB,GAAIF,EAAU,CACZ,MAAMG,EAAaH,EAAS,OAC5BD,EAAW,YAAc,SAASI,IACnC,CACH,CACAD,EAAe,EAIf,SAASE,GAAsB,CAC7B,IAAIC,EAAgB,SAAS,cAAc,kBAAkB,EACzDC,EAAQ,EACRN,GACFA,EAAS,QAAQO,IACfD,GAASC,EAAQ,MACVF,EAAc,YAAc,IAAIC,EAAM,QAAQ,CAAC,IACvD,CAEL,CAGA,SAASE,GAAoB,CACvBR,EACFF,EAAY,UAAYW,IAExBX,EAAY,UAAYY,GAE5B,CAEAF,IACA,MAAMG,EAAmBb,EAAY,cAAc,qBAAqB,EAExEc,EAAiC,EACjCR,IAIA,SAASK,GAAmB,CAC1B,MAAO;AAAA;AAAA;AAAA;AAAA;AAAA,6BAKoBI;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,SAwC7B,CAGA,SAASD,GAA2B,CAClC,GAAIZ,EAAU,CACZ,MAAMc,EAASd,EAAS,IAAI,CAAC,CAAE,IAAAe,EAAK,KAAAC,EAAM,IAAAC,EAAK,SAAAC,EAAU,KAAAC,EAAM,MAAAC,CAAK,IAC7D;AAAA,cACGL;AAAA;AAAA;AAAA;AAAA,+BAIiBF;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,sBAMTI;AAAA;AAAA;AAAA,oCAGcD;AAAA;AAAA,+EAE2CE;AAAA,uEACRC;AAAA;AAAA,uCAEhCC;AAAA;AAAA;AAAA,UAIpC,EAAE,KAAK,EAAE,EACVT,EAAiB,UAAYG,EACV,SAAS,iBAAiB,qBAAqB,EACvD,QAAQO,GAAOA,EAAI,iBAAiB,QAASC,CAAe,CAAC,CACvE,CACH,CAEA,SAASA,EAAgBC,EAAO,CAC9B,MAAMC,EAAYD,EAAM,OAAO,QAAQ,IAAI,EAAE,GAC7CtB,EAAQ,eAAeuB,CAAS,EAChCxB,EAAWC,EAAQ,eAAe,MAAM,EACpCD,EAAS,SAAW,GACtBC,EAAQ,UAAS,EAEnBO,IACAI,GACF,CAEA,SAASF,GAA0B,CACjC,MAAO;AAAA;AAAA;AAAA;AAAA,YAIGlB;AAAA,YACAG;AAAA;AAAA;AAAA,YAGAF;AAAA,YACAG;AAAA;AAAA;AAAA,YAGAF;AAAA,YACAG;AAAA;AAAA,mCAEuBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAanC"}